<!-- src/app/pages/dashboard/dashboard.component.html -->
<div class="dashboard-page">
  <h1 class="page-title">ðŸ“Š Fraud Detection Dashboard</h1>

  <!-- Loading and error states -->
  <p *ngIf="loading" class="muted">Loading analytics...</p>
  <p *ngIf="error" class="error">{{ error }}</p>

  <!-- Summary Cards -->
  <div *ngIf="stats" class="stats-grid">
    <div class="stat-card gradient-blue">
      <h3>Total Transactions</h3>
      <p class="big">{{ stats?.totalTransactions }}</p>
    </div>

    <div class="stat-card gradient-red">
      <h3>Fraudulent Transactions</h3>
      <p class="big">{{ stats?.fraudCount }}</p>
    </div>

    <div class="stat-card gradient-yellow">
      <h3>Fraud Percentage</h3>
      <p class="big">{{ stats?.fraudPercentage?.toFixed(2) }}%</p>
    </div>
  </div>

  <!-- Top Triggered Rules -->
  <div *ngIf="stats?.topRules?.length" class="card top-rules">
    <h3 class="subtitle">ðŸ”¥ Top Triggered Rules</h3>

    <table class="rules-table">
      <thead>
        <tr>
          <th>Rule</th>
          <th>Triggered Count</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let r of stats?.topRules">
          <td>{{ r?.rule }}</td>
          <td>{{ r?.count }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Empty Fallback -->
  <p *ngIf="!loading && !stats" class="muted">No data available yet.</p>
</div>
